const calculator=document.querySelector(".calc");let history=[],tempNember="",operationType="";function operation(e){e>=0?(operationType="number",tempNember="0"==tempNember?e:tempNember+e):"float"==e?(operationType="number",/\./.test(tempNember)?tempNember="0.":tempNember+="."):"delete"==e&&"number"==operationType?(tempNember=tempNember.substring(0,tempNember.length-1),tempNember=tempNember||"0"):["+","-","/","*"].includes(e)&&tempNember?(operationType=e,history.push(tempNember,operationType),tempNember=""):"="==e?(history.push(tempNember),tempNember=calculate(history),history=[]):"clear"==e&&(history=[],tempNember="0")}function renderTotal(e){calculator.querySelector(".calc__total").innerHTML=e}function renderHistory(e){const t=calculator.querySelector(".calc__history");let r="";e.forEach((e=>{e>=0?r+=`&nbsp<span>${e}</span>`:["+","-","/","*"].includes(e)&&(r+=`&nbsp<strong>${e}</strong>`)})),t.innerHTML=r}function calculate(e){let t=0;return e.forEach(((r,o)=>{if(r=parseFloat(r),0==o)t=r;else if(o-2>=0){const n=e[o-1];r>=0&&("+"==n?t+=r:"-"==n?t-=r:"*"==n?t*=r:"/"==n&&(t/=r))}})),t}calculator.addEventListener("click",(e=>{const t=e.target;if(t.classList.contains("calc__col")){operation(t.dataset.type),renderTotal(tempNember),renderHistory(history)}}));